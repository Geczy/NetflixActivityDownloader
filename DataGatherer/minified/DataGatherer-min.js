javascript:function getJSON(e,t){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==i.readyState&&200==i.status){try{var e=JSON.parse(i.responseText)}catch(e){return alert("Netflix Stats gathering failed, see console for details"),void console.warn(e.message+" in "+i.responseText)}t(e)}},i.open("GET",e,!0),i.send()}function downloadJSONToFile(e,t){e=JSON.stringify(e);var i=document.createElement("a"),s=new Blob([e],{type:"application/json"});i.href=URL.createObjectURL(s),i.download=t,i.click()}var flixInfo=window.netflix.reactContext.models.serverDefs.data,userInfo=window.netflix.reactContext.models.userInfo.data,activityURL=flixInfo.SHAKTI_API_ROOT+"/"+flixInfo.BUILD_IDENTIFIER+"/viewingactivity?authURL="+userInfo.authURL+"&pgSize=100&pg=";console.log("using URL: "+activityURL);var flixStats={viewedItems:{},userDetails:{name:userInfo.name,guid:userInfo.guid,countryOfSignup:userInfo.countryOfSignup,currentCountry:userInfo.currentCountry,currentRegion:userInfo.currentRegion,membershipStatus:userInfo.membershipStatus,isInFreeTrial:userInfo.isInFreeTrial,isKids:userInfo.isKids}},pageCount=0;function gatherWatchInfo(e){console.log("\nGetting: "+activityURL+pageCount),getJSON(activityURL+pageCount,t=>{if(void 0===t.viewedItems[0])console.log("No viewed items in page\n\nFinished gathering pages"),e();else{for(var i=0;i<t.viewedItems.length;i++){var s,a=t.viewedItems[i],n="unknown",o="series";if(a.seriesTitle?(n=a.seriesTitle,s=a.series):(o="film",n=a.videoTitle,s=a.movieID),"series"==o)var r={title:a.title,dateWatched:a.dateStr,duration:a.duration};flixStats.viewedItems[s]?(flixStats.viewedItems[s].watchCount++,flixStats.viewedItems[s].watchedEpisodes[a.movieID]=r):(flixStats.viewedItems[s]={},flixStats.viewedItems[s].title=n,flixStats.viewedItems[s].type=o,"series"==o?(flixStats.viewedItems[s].watchCount=1,flixStats.viewedItems[s].watchedEpisodes={[a.movieID]:r}):(flixStats.viewedItems[s].dateWatched=a.dateStr,flixStats.viewedItems[s].duration=a.duration)),console.log("Parsed: "+n)}pageCount++,gatherWatchInfo(e)}})}gatherWatchInfo(()=>{console.log("\nDone\n"),console.log(flixStats);var e=document.createElement("script");e.type="application/javascript",e.src="https://thatguywiththatname.github.io/NetflixStats/DataGatherer/source/Viewer.js",document.getElementsByTagName("head")[0].appendChild(e)});void 0