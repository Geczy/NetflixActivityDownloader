javascript:function getJSON(a,b){var c=new XMLHttpRequest;c.onreadystatechange=function(){if(4==c.readyState&&200==c.status){try{var a=JSON.parse(c.responseText)}catch(a){return void alert(a.message+" in "+c.responseText)}b(a)}},c.open("GET",a,!0),c.send()}function downloadJSONToFile(b,c){b=JSON.stringify(b);var d=document.createElement("a"),a=new Blob([b],{type:"application/json"});d.href=URL.createObjectURL(a),d.download=c,d.click()}var flixInfo=window.netflix.reactContext.models.serverDefs.data,userInfo=window.netflix.reactContext.models.userInfo.data,activityURL=flixInfo.SHAKTI_API_ROOT+"/"+flixInfo.BUILD_IDENTIFIER+"/viewingactivity?authURL="+userInfo.authURL+"&pgSize=100&pg=";console.log("using URL: "+activityURL);var flixStats={viewedItems:{},userDetails:{name:userInfo.name,guid:userInfo.guid,countryOfSignup:userInfo.countryOfSignup,currentCountry:userInfo.currentCountry,currentRegion:userInfo.currentRegion,membershipStatus:userInfo.membershipStatus,isInFreeTrial:userInfo.isInFreeTrial,isKids:userInfo.isKids}},pageCount=0;function gatherWatchInfo(a){console.log("\nGetting: "+activityURL+pageCount),getJSON(activityURL+pageCount,b=>{if(b.viewedItems[0]===void 0)console.log("No viewed items in page\n\nFinished gathering pages"),a();else{for(var c=0;c<b.viewedItems.length;c++){var d,e=b.viewedItems[c],f="unknown",g="series";if(e.seriesTitle?(f=e.seriesTitle,d=e.series):(g="film",f=e.videoTitle,d=e.movieID),"series"==g)var h={dateWatched:e.dateStr,duration:e.duration};flixStats.viewedItems[d]?(flixStats.viewedItems[d].watchCount++,flixStats.viewedItems[d].watches[e.title]=h):(flixStats.viewedItems[d]={},flixStats.viewedItems[d].title=f,flixStats.viewedItems[d].type=g,"series"==g?(flixStats.viewedItems[d].watchCount=1,flixStats.viewedItems[d].watches={[e.title]:h}):(flixStats.viewedItems[d].dateWatched=e.dateStr,flixStats.viewedItems[d].duration=e.duration)),console.log("Parsed: "+f)}pageCount++,gatherWatchInfo(a)}})}gatherWatchInfo(()=>{console.log("\nDone\n"),console.log(flixStats),downloadJSONToFile(flixStats,"Netflix-Stats.json")});void 0